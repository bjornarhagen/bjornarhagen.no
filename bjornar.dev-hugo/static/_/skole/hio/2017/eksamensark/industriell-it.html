<!DOCTYPE html>
<html lang="no">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="initial-scale=1, maximum-scale=2.5, width=device-width, height=device-height"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Industriell IT - eksamensark</title>
    <link rel="stylesheet" href="css/exam-paper.css" />
  </head>
  <body>
    <div class="wrapper" page="1">
      <section>
        <div class="row">
          <div class="clear">
            <div class="w2 fl br">
              <h2>Obliger</h2>
              <h3>Oblig 1 - Del A</h3>
              <h4>Oppgave 1</h4>
              <p class="tl q">
                Lag en «egen»XOR port med AND og OR porter. Bruk Ladder (LD)
                eller funksjonsblokker (FBD) for å løse oppgaven. Programmer
                løsningen i Codesys med et egnet HMI.
              </p>

              <h4 class="bt">Oppgave 2</h4>
              <p class="tl q">
                Lag et FBD-program i Codesys med et HMI for et enkelt lyskryss
                som følger tidspunkter gitt nedenfor. Løs først nord-syd
                NS-retningen. Bruk en bryter (start/stopp) for å starte stoppe
                lyskrysset.
              </p>
            </div>
            <div class="w6 fl br">
              <p class="fss"><strong>opg1: Med ladder</strong></p>
              <img class="bb" src="https://i.xdh.no/13ac0c442f69" alt="" />
              <p class="fss"><strong>opg1: Med FBD</strong></p>
              <img src="https://i.xdh.no/d48e9f5f4072" alt="" />
            </div>
            <div class="w2 fl br">
              <p class="fss"><strong>opg1: HMI for alle</strong></p>
              <img class="bb" src="https://i.xdh.no/fe9c0dbd0844" alt="" />
              <p class="fss tl"><strong>opg1: Med strukturert tekst</strong></p>
              <img src="https://i.xdh.no/4b45aa7153ee" alt="" />
            </div>
          </div>

          <div class="clear">
            <div class="w2 fl bb">
              <p class="tl q">
                Test at det NS-retningen virker. Legg nå til øst-vest
                ØV-retningen.
                <strong>Trafikklyset skal skifte på følgende vis:</strong>
              </p>
              <img src="https://i.xdh.no/8a6d26d5ce55" alt="" />
              <p class="q">Tidsangivelse</p>
              <p class="q"><strong>NS-retningen</strong></p>
              <ul class="nostyle i0 q">
                <li>Rødt : 8 sek</li>
                <li>Rød + Gul: 4 sek</li>
                <li>Grønn: 8 sek</li>
                <li>Gul: 4 sek</li>
              </ul>
              <p><strong>ØV-retningen</strong></p>
              <ul class="nostyle i0 q">
                <li>Grønn: 8 sek</li>
                <li>Gul: 4 sek</li>
                <li>Rød: 8 sek</li>
                <li>Rød + Gul: 4 sek</li>
              </ul>
              <p><strong>HMI</strong></p>
              <img src="https://i.xdh.no/ebce983d53ad" alt="" />
              <img src="https://i.xdh.no/95c680b549af" alt="" />

              <div class="bt">
                <div
                  class=""
                  style="margin-top: 2em; transform: rotateZ(90deg); margin-top: 3em; margin-bottom: 7em;"
                >
                  abc formel
                  <span class="katex"
                    >x = \dfrac{-b \pm \sqrt{b^2-4 \cdot a \cdot c}}{2 \cdot
                    a}</span
                  >
                </div>
              </div>
            </div>
            <img
              class="w7 fl bt br bl"
              src="https://i.xdh.no/76c67e5b984e"
              alt=""
            />
            <div class="w4 fl br bb bl">
              <img src="https://i.xdh.no/6dbf130a8599" alt="" />
            </div>
            <div class="w4 fl bt">
              <h4>Oppgave 3. (Fra eksamen 2011)</h4>
              <p>
                En hermetikkfabrikk har en produksjonslinje for fiskeboller. Et
                transportbånd frakter boksene som produseres til et pakkeanlegg.
                En fotocelle som er montert ved transportbåndet registrerer hver
                boks som passerer. Systemet er konstruert slik at når en boks
                passerer fotocellen (bryter lyset), så gir den logisk 1 (sann).
                Når lyset ikke er brutt gir den logisk 0 (falsk). Produserte
                bokser samles opp i enden av transportbåndet, og når 5 bokser er
                produsert skal de skyves ved hjelp av et stempel inn i esker.
                Stempelet skyver boksene når det får logisk 1 (sann) som en kort
                puls fra logisk 0 til 1 og tilbake til 0 igjen.
              </p>
              <p>
                I tillegg benyttes en startbryter som gir logisk 1 (sann) når
                den er trykket. Den returnerer til logisk 0 (falsk) når den
                slippes, samt en tilsvarende stoppbryter som gir logisk 1 når
                den er trykket, og logisk 0 (falsk) når den er urørt.
                Transportbåndet vil gå når <code>trans_b</code> legges til
                logisk 1 (sann), og vil stoppe når <code>trans_b</code> leggs
                til logisk 0. Figur 4.1 viser en oversikt over inn – og utganger
                som benyttes på PLS’en.
              </p>
              <figure>
                <table class="w10">
                  <thead>
                    <tr>
                      <th></th>
                      <th>Inngang</th>
                      <th>Utgang</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <th>Startbryter</th>
                      <td>start_br</td>
                      <td></td>
                    </tr>
                    <tr>
                      <th>Stoppbryter</th>
                      <td>stopp_br</td>
                      <td></td>
                    </tr>
                    <tr>
                      <th>Fotocelle</th>
                      <td>foto_c</td>
                      <td></td>
                    </tr>
                    <tr>
                      <th>Stempel</th>
                      <td></td>
                      <td>stempel</td>
                    </tr>
                    <tr>
                      <th>Transportbånd</th>
                      <td></td>
                      <td>trans_b</td>
                    </tr>
                  </tbody>
                </table>
                <figcaption>
                  Figur 4.1 som viser hvordan inn- og utganger er navngitt i
                  PLS’en
                </figcaption>
              </figure>
            </div>
          </div>
        </div>
      </section>
      <section>
        <div class="row">
          <div class="clear">
            <div class="w3 fl">
              <p class="q tl">
                <strong>Oppgave 3. Fortsetter</strong> Når startbryteren trykkes
                (startsignal) skal transportbåndet starte. Når en fiskebolleboks
                passeres fotocellen skal de telles med to tellere. Teller_1 skal
                når den kommer til 5 starte stempelet som skyver boksene ut.
                Samtidig skal telleren resettes, slik at den kan telle opp 5 nye
                bokser. Teller_2 skal være en akkumulerende teller som teller
                alle bokser som er produsert etter at startbryteren ble trykket.
                Den skal ha en Preset Value på 10000. Når det er produsert 10000
                bokser skal teller_2 resettes. Når stoppbryteren blir trykket
                skal transportbåndet stoppe, og teller_2 skal resettes
              </p>
            </div>
            <img
              class="w7 fl"
              src="https://i.xdh.no/11bc35b78271"
              alt="Løsning for oblig 1a oppgave 3 - Codesys logikk"
            />
          </div>

          <div class="clear">
            <p class="w3 fl tl a bt bb">
              <strong>Løsning</strong> Ettersom start- og stoppbryterne er
              touch-brytere må vi sikre at verdiene holdes med en RS-vippe.
              Benytter 2 timere. Resetter timere etter gitt krav. Ettersom både
              stopp-knappen og når teller_2 har kommet til 10000 bokser kan
              restte teller_2 så benytter vi en eller-blokk for disse.
            </p>
            <img
              class="w2 fl bb"
              src="https://i.xdh.no/90e4439573a3"
              alt="Løsning for oblig 1a oppgave 3 - HMS"
            />
            <div class="w5 fr bl bt">
              <h3>Oblig 1 - Del B</h3>
              <h4>Oppgave 1A</h4>
              <p class="q">
                Tegn et blokkskjema for et generelt reguleringssystem. Forklar
                kort hvilke blokker som inngår. Redegjør kort for hva som er
                hovedoppgavene til et reguleringssystem.
              </p>
              <div class="a bb">
                <figure>
                  <img
                    src="https://i.xdh.no/f0614a2e5208"
                    alt="Figur. Blokker i et generelt reguleringssystem"
                  />
                  <figcaption>
                    Figur. Blokker i et generelt reguleringssystem.
                  </figcaption>
                </figure>
                <p>
                  Blokkene er forklart i kompendiet «Intro til reg_tek». Et
                  <strong>reguleringssystem</strong> kan ha flere hovedoppgaver
                  som;
                </p>
                <ul>
                  <li>Holde utgangen mest mulig lik referansen.</li>
                  <li>Eliminerer innvirkning av forstyrelser</li>
                  <li>Holde reg.syetmet stabilt under ulike driftsforhold</li>
                  <li>Minst mulig påvirket av endringer i prosessparametre</li>
                </ul>
              </div>
            </div>
            <div class="w10">
              <div class="q">
                <p>
                  <strong>Oppgave 1B</strong> Du skal lage et system for
                  regulering av hastigheten på en bil. (Cruisekontroll). Forklar
                  hvilke komponenter/moduler du vil trenge for å lage et slikt
                  system. Tegn et blokkskjema som viser hvordan komponentene
                  inngår. Forklar kort begrepene:
                </p>
                <ul class="inline2">
                  <li>Avvik</li>
                  <li>Pådrag</li>
                  <li>Tilstand</li>
                  <li>Forstyrrelse</li>
                </ul>
              </div>
              <div class="a">
                <p>
                  Vi må lage et <strong>tilbakekoblet system</strong> med en
                  regulator som påvirker/regulerer hastigheten til bilen. Vil
                  trenge: Regulator, pådragsorgan som styrer bensin/diesel
                  innsprøytning, prosessen (bilen), måleelement som måler
                  hastigheten. Er det en elektrisk bil kan vi styre elmotorene
                  med kraftforsterkere
                </p>
                <div class="clear bb">
                  <figure class="w6 fl">
                    <img src="https://i.xdh.no/9c9797fbd020" alt="" />
                    <figcaption>
                      Figur. Et typisk tilbakekoblet system.
                    </figcaption>
                  </figure>
                  <ul class="w4 fr">
                    <li>
                      <strong>Avvik</strong>: Differensen mellom ønsket verdi og
                      målt verdi. Angis med: e(t)
                    </li>
                    <li>
                      <strong>Pådrag</strong>: utgangen fra regulatoren som skal
                      drive prosessen i riktig retning. Angis med: u(t)
                    </li>
                    <li>
                      <strong>Tilstand</strong>: En karakteristisk størrelse som
                      beskriver prosessen. F.eks temperaturen i et rom. Kalles
                      også prosessvariabel. x(t)
                    </li>
                    <li>
                      <strong>Forstyrrelse</strong>: utilsiktet påvirkning som
                      vi ikke har ”styring” på. F.eks en motbakke når vi kjører
                      bil.
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div class="clear">
            <p>
              <span class="q">
                <strong>Oppgave 1C</strong> Hvorfor benyttes pådragsorganer i en
                reguleringssløyfe? Nevn noen typiske pådragsorganer?
              </span>

              <span class="a">
                Pådragsorgan benyttes for å forsterke opp pådragssignalet fra
                regulatoren. En regulator gir kun ut svake signaler som f.eks 4
                -> 20mA. Et slikt signal må forsterkes for å kunne gi noe effekt
                på en prosess. <strong>Typiske pådragsorgan</strong>; ventiler,
                elektriske forsterkere, motorer, pumper.

                <strong>Typisk signalverdier i reguleringssløyfe:</strong>
                4-20mA, 0–10Volt, 1-5Volt, 3-15PSI
              </span>
            </p>
          </div>

          <div class="clear">
            <div class="w45 fl">
              <p class="q">
                <strong>Oppgave 1E</strong> Du skal lage et system som overvåker
                en pasient på et sykehus (eller hjemme for den saks skyld). Hva
                slags type «informasjon» kan det være interessant å
                måle/overvåke?
              </p>
              <p class="a tl">
                Her er det mange «tilstander» som kan være interessant å
                måle/overvåke: På selve pasienten: Puls, blodtrykk, hjerterytme,
                oksygen i blodet, blodsukker, kroppstemperatur, fuktighet...
                (Andre parametere kan være kolesterol, blodprosent, samt
                x-antall andre parametere som kan måles via blodprøver). Andre
                tilstander kan være bevegelse, fall, i hvilket rom man er,
                lysforhold, lyd, temperatur, ...
              </p>

              <p class="q tl">
                <strong>Oppgave 4</strong> Gitt følgende integral:
                <span class="katex">y = \int_{a}^{b} f(x) dx</span>
                <span class="katex i2">f(x) = 30x^3 - 8x^2 + 4x + 10</span>
                Beregn selv hva det korrekte svaret er når:
                <span class="katex">a=0 \quad b=3</span>
              </p>
            </div>
            <img class="w55 fr sl" src="https://i.xdh.no/b0be7a777b08" alt="" />
          </div>
        </div>
      </section>
      <section>
        <div class="row">
          <div class="cols cols-2 bb">
            <h4>Oppgave 6</h4>
            <p class="q">
              Et system kan beskrives med følgende differensialligning;
              <span class="katex">20\dot{x} + 10x = f(t)</span>
            </p>
            <p class="q">
              <span class="katex">f(t) = inngang</span>
              <span class="katex">x(t) = utgang</span> Finn transferfunksjonen
              som beskriver systemet gitt i ligning 1. Forklar kort hva en
              transferfunksjon uttrykker/beskriver (på generell basis). Anta at
              f(t) er et enhetssprang ved t=0.
            </p>
            <p class="a bt">
              Finner transferfunksjonen ved å benytte Laplace på hvert ledd.
              <span class="katex">20s \cdot X(s) + 10X(s) = F(s)</span>
              <span class="katex">(20 + 10s)X(s) = F(s)</span>
              <span class="katex"
                >\dfrac{X(s)}{F(s)} = H(s) = \dfrac{1}{20s + 10} =
                \dfrac{0.1}{2s + 1}</span
              >
            </p>
            <p class="a tl">
              Vi har nå funnet transferfunksjonen som beskriver systemet. En
              <strong>transferfunksjon</strong> er en beskrivelse av et system
              (modell) i s-plan. Beskriver sammenhengen mellom inngang og utgang
              i systemet.
              <span class="katex"
                >f(t) - enhetssprang \rightarrow F(s) = 1/s</span
              >
              <span class="katex"
                >X(s) = H(s) \cdot F(s) = \dfrac{0.1}{s(2s + 1)}</span
              >
            </p>
            <p class="a">
              Invers Laplace gir;
              <span class="katex">x(t) = 0.1(1-e^{-0.5t})</span>
            </p>

            <h4>Oppgave 7</h4>
            <p class="q">
              Gitt at du har en <strong>differensialligning</strong> som
              beskrevet nedenfor der y(t) er utgangen og x(t) er inngangen. Hva
              blir transferfunksjonen til dette systemet?
              <span class="katex"
                >\ddot{y}(t) + 4\dot{y}(t) + 3y(t) = x(t)</span
              >
              Hva blir Y(s) gitt at x(t) er et enhets-sprang?
            </p>
            <p class="a bt">
              Må <strong>Laplacetransformere</strong> ledd for ledd.
              Initialtilstander settes lik 0. Vi får da:
              <span class="katex">
                s^2 \cdot Y(s) + 4s \cdot Y(s) + 3Y(s) = X(s)
              </span>
              <span class="katex"> Y(s) \cdot (s^2 + 4s + 3) = X(s) </span>
              <span class="katex">
                \dfrac{Y(s)}{X(s)} = H(s) = \dfrac{1}{s^2 + 4s + 3}
              </span>
            </p>
            <p class="a">
              <span class="katex">X(s)</span> skal være et enhetssprang
              <span class="katex">\rightarrow X(s) = 1/s</span>
            </p>
            <p class="a tl">
              Finner da:
              <span class="katex">
                Y(s) = H(s) \cdot X(s) = \dfrac{1}{s(s+3)(s+1)}
              </span>
            </p>
            <p class="a">
              Vi finner <span class="katex">y(t)</span> ved å ta invers Laplace
              av uttrykket <span class="katex">Y(s)</span>.
            </p>
            <h4>Oppgave 9</h4>
            <p class="q">
              Et fjæringssystem på en bil har følgende transferfunksjon;
              <span class="katex">H(s) = \dfrac{10}{s^2 + 0.8s + 4}</span>
            </p>
            <p class="q">
              <strong>A.</strong> Beregn hva systemets poler er. Hvordan vil du
              klassifisere polene til systemet? Skisser hvordan du vil forvente
              at sprangresponsen blir?
            </p>
            <p class="a">Setter nevneren = 0.</p>
            <p class="a">
              <span class="katex">s^2 + 0.8s + 4 = 0</span>
              <span class="katex"
                >s = \dfrac{-0.8 \pm \sqrt{0.8^2 - 4 \cdot 1 \cdot 4}}{2 \cdot
                1}</span
              >
              <span class="katex">= \dfrac{-0.8 \pm \sqrt{0.64 - 16}}{2}</span>
              <span class="katex">= \dfrac{-0.8 \pm \sqrt{15.36}}{2}</span>
              <span class="katex">s_1 = -0.4 + 1.96i</span>
              <span class="katex"
                >\underline{\underline{s_2 = -0.4 - 1.96i}}</span
              >
            </p>
            <p class="a">
              Vi klassifiserer polene til systemet som kompleks konjugerte.
              Polene har negativ realdel dermed er systemet stabilt. Et system
              med kompleks konjugerte poler vil ha en sprangrespons med
              oversving. Systemer er stabilt og svinger seg inn mot en stabil
              verdi.
            </p>
            <img src="https://i.xdh.no/5c29b3847cd7" alt="Sprangrespons" />
            <p class="q">
              <strong>B.</strong> Hva vil det si at et system har en
              resonansfrekvens?
            </p>
            <p class="a tl">
              <code>Robert sin forklaring:</code> Hvis frekvensresponsen viser
              en <strong>forstrekningstopp</strong> ved en gitt frekvens så har
              systemet en <strong>resonansfrekvens</strong>.
            </p>
            <p class="a tl">
              <code>Vår forklaring:</code> Resonansfrekvens er en frekvens hvor
              det fortsetter å svinge av seg selv når svingningene først er satt
              i gang og svingebevegelsene ikke blir dempet.
            </p>
          </div>

          <h3>Oblig 2</h3>
          <p>
            <em
              ><strong
                >Hvorfor må et reguleringssystem ha stabilitetsmarginer?</strong
              >
              Forklar kort hvilke marginer man normalt benytter i et
              reguleringssystem og hvilken praktisk betydning de har.</em
            >
          </p>
          <p>
            Stabilitetsmarginer er nødvendig for at reguleringssystemet skal
            være stabilt. Desto større marginer jo mer stabilt er systemet.
            Ettersom et reg.ssytem skal fungere under ulike driftsforhold og
            over lang tid er det nødvendig med akseptable marginer.Vi setter
            krav til <strong>fasemargin</strong>. Den bør normalt være på minst
            45 grader. Velges 60 grader fårman et godt stabilt system. Pidtune()
            i Matlab benytter 60 grader fasemargin for tuning av parametere.
            <strong>Forsterkningsmarginen</strong> bør være på minst 6dB. Det
            betyr at vi skal kunne doble regulatorforsterkningen uten at
            reg.systemet blir ustabilt.
          </p>

          <p>
            <em
              ><strong>For å undersøke stabilitet </strong>til et
              reguleringssystem kan man benytte frekvensrespons. Forklar kort
              hva det er man undersøker frekvensresponsen til? Anta at du har
              bestemt en fornuftig regulator i reguleringssystemet og ønsker å
              simulere hvordan utgangen (prosessverdien) følger setpunktet i
              Matlab med step-funksjonen.Hvilken funksjon (matematisk uttrykk)
              må man beregne før man kan benytte step-funksjonen?</em
            >
          </p>
          <p>
            Man må finne systemets
            <strong>åpne sløyfetransferfunksjon</strong> A(s). Frekvensresponsen
            til A(s) vil være utgangspunktet for å finne en «optimal» regulator.
            For å simulere responsen til hele reguleringssystemet må vi beregne
            følgeforholdet M(s). Hvis systemet har enhets tilbakekobling blir
            <span class="katex">M(s) = \frac{A(s)}{1+A(s)}</span>. Matlab
            beregner dette enkelt, og så kan vi benytte step-funksjonen på M(s).
          </p>

          <p>
            <strong
              >Nevn noen prosesser som blir regulert med av/på-regulering. </strong
            ><em
              >Hvordan varierer pådraget og utgangen (prosessverdien) når
              av/på-regulering benyttes? Tegn en skisse.</em
            >
          </p>
          <p>
            Av/på-regulering kan benyttes i trege prosesser, og der kravet til
            nøyaktighet ikke er store. Eksempler: Temperaturregulering i hus og
            kjøleskap. Nivåregulering i en tank hvor kravet til nivået ikke er
            stort.
          </p>
          <p>
            Ulempene ved av/på-regulering er at den regulerte prosessverdien
            ikke stabiliserer seg på settpunktet. Utgangen vil svinge rundt
            setpunktet, (unøyaktig regulering). I tillegg vil pådragsorganet
            kjøres hardt fra 0 pådrag til 100% pådrag i en evig syklus. Vil
            kunne gi stor «slitasje». Skisse av utgang (prosessverdien) og
            pådraget i en av/på-regulering:
          </p>
          <img
            src="https://i.xdh.no/d31c61b69cfe"
            alt="Skisse av utgang (prosessverdien) og pådraget i en av/på-regulering"
          />
        </div>
      </section>
    </div>
    <div class="wrapper" page="2">
      <section>
        <div class="row">
          <div class="cols cols-2">
            <p class="q">
              <strong
                >Hvilke forbedringer kan vi oppnå med en PID-regulator?</strong
              >
              Forklar hvorfor en PI-regulator kan gi null stasjonær feil?
              Hvilken effekt har derivatvirkningen Td i et reguleringssystem?
            </p>
            <p class="a">
              PID-regulatoren lager 3 bidrag til pådraget basert på avviket
              e(t). De tre bidragene er: Proporsjonalt med avviket – P,
              Integralet av avviket – I, Deriverte av avviket – D. Summen av
              bidragene gir et pådrag som kan innta enhver verdi mellom 0 og
              100%. Det betyr at vi kan finne det helt riktige pådraget som gjør
              at utgangen prosessverdien blir lik setpunktet (ønsket verdi).
              PI-regulatoren integrerer avviket, og da vet vi at så lenge
              avviket ikke er null (perfekt) så vil det genereres et bidrag til
              pådraget som driver avviket mot null. Når avviket er null vil det
              ikke genereres mer bidrag pga av I-delen og vi får null stasjonær
              feil. Derivatvirkningen gjør at regulatoren følger hvor hurtig
              avviket endrer seg. Ved raske endringer i avviket vil regulatoren
              reagerer raskt for å motvirke at det blir et avvik. Fører dermed
              til raskere regulering.
            </p>
            <p class="q">
              Tegn en skisse som viser hvordan pådraget og utgangen
              (prosessverdien) nå varierer.
            </p>
            <img
              class="w8 centered"
              src="https://i.xdh.no/2986f9c1edc3"
              alt="PID"
            />
            <img
              class="w8 centered"
              src="https://i.xdh.no/a09c23c94099"
              alt="PID"
            />
          </div>

          <p class="q">
            <strong>Anta at du benytter en PID-regulator </strong>i et
            reguleringssystem, og at regulatoren er fornuftig innstilt. Hva vil
            normalt skje hvis man øker forsterkningen på regulatoren? Hva vil
            skje hvis man øker integrasjonstiden Ti?
          </p>
          <p class="a">
            Hvis man øker forsterkningen vil reguleringssystemet bli mer
            oscillatorisk. Utgangen vil svinge mer. Når forsterkningen blir stor
            nok blir det fleste reguleringssystemer ustabile. Regulatoren vil da
            slå seg av og på (vandre mellom yttergrensene 0 og 100%). Utgangen
            vil bli en stående svingning. Økes integrasjonstiden Ti vil det bety
            at I-delen vektlegges mindre. Integrasjonseffekten avtar, og
            regulatoren blir en P/PD-regulator, og da vil man normalt få
            stasjonær feil.
          </p>

          <p class="q">
            <strong
              >Anta at vi har konstruert et system som skal regulere nivåeti en
              tank til ønsket nivå.</strong
            >
            Vi har lageten matematisk beskrivelse av systemet som vist i
            blokkdiagrammetfor reguleringssystemet, se figur2.2.
          </p>
          <figure>
            <img
              src="https://i.xdh.no/ead213a8408c"
              alt="et system som skal regulere nivåeti en tank til ønsket nivå"
            />
            <figcaption>
              figur 2.2 - Blokkdiagram for reguleringssystemet
            </figcaption>
          </figure>
          <p class="q">
            <strong>P-reg:</strong> Anta at regulatoren vi først benytter er en
            P-regulator med forsterkning K. Hva blir systemets åpne
            sløyfetransferfunksjon A(s) når K= 1 ? Bestem forsterkningen K slik
            at systemet oppfyller en fasemargin på minst 60 grader og en
            forsterkningsmargin på minst 6dB. Bruk margin()funksjonen i Matlab,
            og løs oppgaven. Du skal nå kunne oppgi følgende verdier som
            beskriver systemet: Hvilken forsterkning K som bør benyttes. Hvilke
            marginer <span class="katex">\psi</span>og
            <span class="katex">\Delta K</span>som er oppnådd? Hva
            <span class="katex">\omega_c</span> og
            <span class="katex">\omega_{180}</span>? Og hva forsterkning
            <span class="katex">K_{krit}</span> som vil gi et ustabilt system
            er?
          </p>

          <div class="clear">
            <div class="fl w4">
              <p class="a">
                Sløyfetransferfunksjonen A(s) benyttes for å bestemme
                PID-parametere og stabilitetesmarginer. Når K=1 blir A(s).
                <span class="katex"> A(s) = \dfrac{1}{(1+4s)(1+50s)(1+s)}</span>
                Legger A(s) inn i Matlab. Plotter bode(a) når K=1 og får
                <span class="katex">\rightarrow</span>
              </p>
              <p class="a bt tl">
                Margin() sier -180 grader fasemargin. Det kommer av at A-kurven
                aldri skjærer odB-linja, og dermed har systemet 180 grader
                fasemargin. (ikke -180) Økes K til f.eks 2 eller 10 så vil vi se
                riktig fasemargin og forsterkningsmargin. Prøver litt
                forskjellige verdier i Matlab og finner fort ut at K=8.4
                oppfyller kravene. Lar margin() vise verdiene med K=8.4. Se
                figuren til høyre.
              </p>
              <p class="a tl">
                Kan nå lese av følgende sentrale verdier: K= 8.4 gir Fasemargin
                = 60.1. Forsterkningsmargin = 18.3dB.
                <span class="katex">\omega_c = 0.143 rad/s</span>
                <span class="katex">\omega_{180} = 0.524 rad/s</span>
              </p>
              <p class="q bt tl">
                <strong>Opg ?</strong> Test systemet i Matlab ved å påtrykke et
                sprang i referansen r(t). Vis responsen y(t).Kommenterhvordan
                systemet fungerer? (Hurtighet, nøyaktighet, stabilitet). Test en
                sprangrespons når du benytter en forsterkning lik Kkrit. Vis
                responsen y(t), og kommenter hvordan systemer fungerer nå. Prøv
                også funksjonen pidtune(), og finn ut hva slags P-regulator den
                anbefaler. Oppgi verdien som pidtune() kommer fram til, og
                kommenter om den er i nærheten av det dere fant med
                margin()-funksjonen.
              </p>
            </div>
            <div class="fl w6">
              <img
                class="a"
                src="https://i.xdh.no/2adea1615179"
                alt="Bode diagram - Sløyfetransferfunksjonen A(s)"
              />
            </div>
            <div class="fr w6">
              <img src="https://i.xdh.no/1410676462c0" alt="Bode diagram" />
            </div>
          </div>
        </div>
      </section>
      <section>
        <div class="row">
          <p class="a">
            <strong>Svar Opg ?</strong> Finner Kkrit ved å ta forsterkningen som
            er benyttet (8.4), og legge til forsterkningsmarginen 18.3dB. Kkrit
            = 8.4 + 18.3 dB. (Må gjøre om til dB hele veien, og så legge
            sammen.) Regner om 8.4 til dB
            <span class="katex">\rightarrow</span>18.5dB. Kkrit = 18.48+ 18.3 dB
            = 36.78dB som igjen er: 69.0 i ren forsterking. Lar Matlab beregne
            overføringsfunksjonen; M= a/(1+a)når K=8.4. Plotter så
            sprangresponsen med step(M).
          </p>

          <div class="cols cols-2">
            <figure>
              <img
                src="https://i.xdh.no/316ca84be76f"
                alt="Sprangrespons. P-reg med K=8.4"
              />
              <figcaption>
                <p>
                  <strong>Sprangrespons. P-reg med K=8.4</strong> Systemet
                  bruker ca 50 sek på å svinge seg inn. Det er litt tregt system
                  pga prosessen som reguleres er en treg prosess. Ser at
                  stasjoner feil er ca 0.12 (12%). Det er pga at vi ikke
                  benytter en I-virkning. Prøver så en sprangrespons med K=
                  69.0(Kkritisk).
                </p>
              </figcaption>
            </figure>
            <figure>
              <img
                src="https://i.xdh.no/d816cb0e198d"
                alt="Sprangrespons med Kkritisk"
              />
              <figcaption>
                <p>
                  <strong>Sprangrespons. P-reg med K= 69.0</strong>
                  <span class="katex">\rightarrow</span> Gir et ustabiltsystem
                  som forventet. Ved å kjøre pidtune på systemet anbefaler den
                  K= 8.41, og det er helt itråd med det vi fant via margin()
                  testen.
                </p>
              </figcaption>
            </figure>
          </div>

          <p class="q">
            <strong>PI-reg:</strong>Det viser seg at P-regulatoren gir for stor
            stasjonær feil, og en PI-regulatorskal benyttes isteden. Benytt
            igjen margin(), og bestem en PI-regulator som oppfyller kravene i
            2A. Test også ut pidtune(),og finn ut hva slags PI-regulator den
            anbefaler. Oppgi hvilken K og Ti som bør benyttes gitt data fra
            margin() funksjonen. Hva blir <span class="katex">\psi</span> og
            <span class="katex">\Delta K</span> med valgte PI-regulator.
          </p>
          <p class="a">
            Må nå finne Ti. Benytter Wc fra P-reg med K=8.4. (Wc= 0.143 rad/s).
            Benytter:
            <span class="katex"
              >\dfrac{1}{T_i} = \dfrac{\omega_c}{5} \rightarrow T_i =
              \dfrac{5}{\omega_c} = \dfrac{5}{0.143} = 35</span
            >. <span class="i2">, K = 8.4</span>
          </p>
          <p>
            PI-reg som nå benyttes blir:
            <span class="katex"
              >H_{pi}(s) = K \dfrac{(1+T_is)}{T_is} = 8.4 \dfrac{(1+35s)}{35s} =
              0.24 \dfrac{(1+35s)}{s}</span
            >
            A(s) med PI-reg blir:
            <span class="katex"
              >A(s) = \dfrac{0.24(1+35s)}{s(1+4s)(1+50s)(1+s)}</span
            >
          </p>
          <p class="q">
            <strong>Oppgave 3: Hva er det som gjør PLS’er</strong> godt egnet i
            automatiserte systemer? Forklar kort hvilke standardiserte
            programmeringsspråk som kan benyttes for å programmere PLS’er.
            Forklar kort hva programmet Codesys er, og hva vi kan benytte det
            til. Begrepet «POU» dukker opp i forbindelse med programmering av
            PLS’er. Hva er en POU?
          </p>
          <p class="a">
            <strong>PLS’er</strong> er dedikerte datamaskiner med IO for styring
            og regulering. Robuste enheter med stor fleksibilitet for å løse
            styringsoppgaver. Har stor driftsstabilitet, lite feil. Vil kunne
            fungere 24/7. Finnes i alle formater fra små rimelige enheter til
            enheter som kan håndtere tusenvis av I/O. Et programmeringsverktøy
            følger normalt med, slik at en kan utvikle programmene på en PC, og
            overføre kompilert kode til selve PLS’en. Kan programmeres etter IEC
            61131-3 på 5 alternative måter: Instruksjonsliste, Relé/ladder
            diagram, Funksjonsblokker, Strukturert tekst, Sekvensielle
            funksjonskart (SFC)
          </p>
          <p class="a">
            <strong>Codesys</strong> er CODESYS(an acronym for controller
            development system, previously stylised CoDeSys) is a development
            environmentfor programming controller applications according to the
            international industrial standard IEC 61131-3. Codesys benyttes for
            å utvikle kode til PLS’er. Vi kan også lage HMI’er for å simulere
            løsninger.
          </p>
          <p class="a">
            <strong>En POUer</strong> en Program Organiseringsenhet. Det kan ses
            på som et sted hvor man legger; funksjonsblokker, funksjoner, kode,
            program. Vi kan lage benytte POU’er når vi lager PLS-kode. En måte å
            organisere kode på.
          </p>
          <p class="q">
            Du skal utvikle en matematisk modell for et system. Beskriv kort to
            metoder som kan benyttes. Hva kan matematiske modeller benyttes til?
          </p>
          <p class="a">
            En matematisk modell er en beskrivelse av sammenhenger i
            systemer/prosesser. Beskriver et system/prosess med matematiske
            ligninger som gir oss muligheter for analyse og design. Beskriver
            f.eks sammenhengen mellom påvirkninger og responser med matematiske
            uttrykk. Metoder som kan benyttes er: 1.Basert på fysiske lover og
            balanser (fysisk modellering), 2. Eksperimentell analyse ved bruk av
            eksperimenter og databehandling. (System identifikasjon). Modeller
            kan benyttes til: 1. For å simulere systemer, 2. For analyse/design
            av styringssystemer, 3. For å trene operatører i simulatorer, 4. For
            optimal design av systemer, 5. For å lage realistisk dynamikk i
            spill
          </p>

          <div class="cols cols-2 bt bb">
            <p class="q tl">
              <strong
                >Forklar hva et prosess-instrumenteringsdiagram er.</strong
              >
              Hvordan angis Tag’er i slike diagram? Hvordan kan man se av
              symbolet om instrumentet står i et kontrollrom eller ute i
              prosessen? Hva angir følgende tag’er? TIC, TT, TAH, FIC, FT. Sjekk
              på nettet og finn instrumenteringssymboler for: Varmeveksler,
              Reguleringsventil, Pumpe
            </p>
            <p class="a tl">
              <strong>Et P&ID-diagram</strong> er et skjema/tegning som viser
              koblingen av prosessutstyr og instrumenter som benyttes for å
              styre prosessen. Fokuserer på rør, prosessutstyr, instrumentering
              og regulering.
            </p>
            <p class="a tl">
              <strong>Tag’er</strong> angir prosessinstrumenter, men kan også
              benyttes for å angi parameterei prosessutstyr, og
              variabler/symboler i et industrielt IT-system. En måte å angi en
              Tag på er: Ex. 234.67 FIC 172 ( Fabrikk–Avsnitt-Instrumentsymbol
              -Loopnummer). TIC - Temperatur indikerende regulator(control). TT
              - Temperatur Transmitter (måle-elementog overføring av verdi). TAH
              - Temperatur Alarm Høy. FIC - Flow indicating Control. Mengde/flow
              regulator. FT - Flow (mengde) transmitter (måle-elementog
              overføring av verdi)
            </p>
            <p><strong>Symboler:</strong></p>
            <div class="cols cols-3">
              <figure class="tc">
                <img
                  class="centered w6"
                  src="https://i.xdh.no/6218d0bda09e"
                  alt="Varmeveksler"
                />
                <figcaption>Varmeveksler</figcaption>
              </figure>
              <figure class="tc">
                <img
                  class="centered w6"
                  src="https://i.xdh.no/0e0bbaba4fbf"
                  alt="Regulseringsventil"
                />
                <figcaption>Reguleringsventil</figcaption>
              </figure>
              <figure class="tc">
                <img
                  class="centered w5"
                  src="https://i.xdh.no/fcc62945bf9e"
                  alt="Pumpe"
                />
                <figcaption>Pumpe</figcaption>
              </figure>
            </div>
          </div>

          <div class="clear">
            <div class="w55 fl">
              <p><strong>noen instrumenter</strong></p>
              <ul class="i0 nostyle">
                <li>PC - Presure Control. Trykk regulator</li>
                <li>PT - PresureTransmitter. (trykkmåle-element/sensor)</li>
                <li>PV - Presure control valve. (trykk reguleringsventil)</li>
                <li>LC - Level Control. Nivå regulator</li>
                <li>LT - Level transmitter. (nivå måle-element/sensor)</li>
                <li>LV - Level control valve. Nivå reguleringsventi</li>
              </ul>
            </div>

            <div class="w45 fr">
              <p><strong>eksempel på sløyfer</strong></p>
              <ul class="i0 nostyle">
                <li>Nivåregulerings-sløyfe: LC, LT, LV inngår</li>
                <li>Trykkreguleringssløyfe: PC, PT, PV inngår.</li>
              </ul>
            </div>
          </div>
        </div>
      </section>
      <section>
        <div class="row">
          <h3>Oblig 3</h3>
          <p>
            <em
              ><strong>Gitt følgende differensialligning. </strong>(Beskrivelse
              av et fysisk system).
              <span class="katex">\ddot{X} + 0.8\dot{X}+4X(t) = 0.1f(t)</span>
              Anta at alle startbetingelser ved t = 0 er 0. Diskretiser ligning
              1 vha <strong>Eulers 1-skritts metode</strong>. Vis utledningen og
              svaret. TIPS!! Erstatt den 2 -deriverte med sin numeriske
              ekvivalent osv. Anta at f(t) er et enhetssprang ved t=0.<span
                class="katex"
                >\rightarrow</span
              >f(t) = 1. Lag et program som beregner (simulerer) systemet for
              verdier av t mellom 0 og 10 sekunder. Test følgende tidskritt T.
              T= 0.01, T = 0.1, T =1.0 sek Skisser (plot) løsningen x(t) som
              programmet beregner. Kommenter hva som skjer når T øker.</em
            >
          </p>
          <p>
            Benytter <strong>Eulers bakovermetode</strong> og setter inn for den
            første og andre deriverte.
          </p>
          <p>
            <span class="katex">\dot{X} = \frac{X_k - X_{k-1}}{T}</span>
            <span class="i2 katex"
              >\ddot{X} = \frac{X_k - 2X_{k-1} + X_{k-2}}{T}</span
            >
          </p>
          <p>
            Setter inn i 1 og løser mhp Xk.
            <span class="katex"
              >\frac{X_k - 2X_{k-1} + X_{k-2}}{T^2} + 0.8 \frac{X_k-X_{k-1}}{T}
              + 4X_k = 0.1F_k</span
            >
          </p>

          <p>
            Løser med hensyn på Xk. Får nå den numeriske ligningen;
            <span class="katex"
              >X_k = \frac{0.1T^2F_k + (0.8T+2)X_{k-1} -
              X_{k-2}}{(1+0.8T+4T^2)}</span
            >
          </p>

          <p>Fk - Påtrykt signal.</p>
          <p>
            Fk = 1 når f(t) er et enhetssprang, Fk = sin(2*T*k) når f(t) er et
            sinussignal på 2 rad/s. Benytter at tiden t = k*T
          </p>
          <p><strong>Gitt følgende integral</strong></p>
          <p>Beregn hva det korrekte svaret er når : a= 0 b= 4</p>
          <p>
            <span class="katex">y = \int_{a}^{b} f(t) dt</span>
            <span class="i2 katex">f(t) = 50t^4+20t^3-3t^2+4t-10</span>
            <span class="katex"
              >=\Big[ \frac{50}{4+1}t^{4+1} + \frac{20}{3+1}t^{3+1} -
              \frac{3}{2+1}t^{2+1}+\frac{4}{1+1}t^{1+1}-\frac{10}{0+1}t^{0+1}
              \Big]_{0}^{4} = 11448</span
            >
          </p>

          <p>
            <strong>Tustins metode</strong> tar utgangspunkt i følgende
            sammenheng:
            <span class="katex"
              >y_k = y_{k-1} + \frac{T}{2}(f_k + f_{k-1})</span
            >
            Når vi kjenner T og beregner funksjonsverdien ved k og k-1 får vi
            arealet av en skive. Summerer alle ”skivene” fra start til stopp
            punktet. Får da totalt areal. Ser at Tustins metode blir mer
            nøyaktig med økende antall skiver (n). Høyere n -> lavere T -> bedre
            nøyaktighet.
          </p>

          <p>
            <strong>Simpsons metode</strong>
            <span class="katex"
              >y_k = y_{k-1} + \frac{T}{3}(f_{2k} + 4f_{2k+1} + f_{2k+2})</span
            >
            <span class="katex"> 0 \leq k \lt \dfrac{n}{2} </span> , n = antall
            skiver, må være et like tall. Simpsons metode er mer nøyaktig enn
            Tustin.
          </p>

          <p>
            <em
              ><strong>Shannon-Nyquist </strong>Forklar kort hva Shannon-Nyquist
              samplingsteorem beskriver.Anta at man sampler musikk med 20kHz.
              Hva er den høyeste frekvensen man vil sitte igjen med? Anta at det
              ligger en tone ved 16kHz når samplingen gjennomføres. Hva skjer
              med den? Hvilken frekvens «dukker» den opp som? Hvordan unngår man
              aliasfrekvenser ved sampling?</em
            >
          </p>
          <p>
            Samplingsteoremet sier at vi må sample minst dobbelt så hurtig som
            den høyeste frekvensen i signalet vi ønsker å gjenskape etter
            sampling. <span class="katex">F_s \geq 2F_{max}</span> Det betyr at
            vi aldri vil sitte igjen med høyere frekvenser enn Fs/2 (Nyquist
            frekvensen) i det samplede signalet. Hvis Fmax= 20kHz vil vi ikke
            sitte igjen med høyere frekvenser enn 10kHz.Et 16kHz signal vil
            dukke opp som en aliasfrekvens på: 20kHz – 16kHz = 4kHz. Dukker opp
            som en 4kHz frekvens som aldri var der originalt. (Falsk frekvens).
            Man unngår problemet med aliasfrekvenser ved å filtrere bor alle
            frekvenser over Fs/2 før sampling. Benytter da et lavpassfilter som
            demper alle frekvenser over Fs/2. Anti-alias filteret bør ha en
            cut-off frekvens som er noe lavere enn Fs/2.
          </p>
          <h3>Eksamen 2016</h3>
          <p class="q">
            <strong
              >Beskriv (gjerne med en skisse) hvordan et distribuert
              styringssystem er oppbygd.</strong
            >
            Forklar kort prinsippene slike systemer er bygd etter. Hva vil det
            si at man har <strong>redundans</strong> i slike systemer? Industri
            4.0 er ofte benyttet som et begrep. Forklar kort hva dette dreier
            seg om.
          </p>
          <p class="a">
            Bør få med at det består av operatørstasjoner, brukerstasjoner hvor
            visualisering, brukergrensesnitt kjøres. Nettverk som forbinder
            opartørstasjoner med distribuerte prosessenheter. Distribuerte
            prosess-enheter som kan være alt fra PLS’er, intelligente
            IO-moduler; RTU’er osv. Det er her styringsalgoritmer og IO utføres.
          </p>
          <p class="a">
            Redundans betyr at man bruker ekstra enheter for å øke sikkerheten,
            påliteligheten i systemene. Kan for eksempel bruker flere IO-enheter
            og sensorer som overvåker samme prosessverdi.
          </p>
          <p class="a">
            ndustri 4.0 dreier seg om at informasjonsteknologi tas i bruk i alle
            ledd i et produksjonssystem/bedrift. Fra wiki: Industry 4.0is the
            current trend of automationand data exchange in manufacturing
            technologies. It includes cyber-physical systems, the Internet of
            thingsalso cloud computing.
          </p>

          <p class="q">
            <strong>Forklar kort hva en feltbuss er</strong>, og hvorfor dette
            er en viktig del av industriell IT. Beskriv noen fordeler man kan
            oppnå med feltbusser. Hva er forklaringen på at det finnes så mange
            feltbusser?
          </p>
          <p class="a">
            <strong>Feltbuss</strong> er en digital kommunikasjonslinje som
            forbinder feltinstrumenter med overordnet overvåking/styring-system.
            Feltbusser gjør oppkobling av distribuerte enheter, sensorer m.m i
            et styringssystem enklere.
          </p>
          <p class="a">
            <strong>Fordeler</strong> som ofte nevnes er: Mindre kabling, mindre
            maskinvare. Mer intelligens ligger i instrumentene. En digital
            kommunikasjon fra sensor til bruker. Kan også gi enklere
            konfigurasjon og mye mer informasjon om instrumenter fungerer som de
            skal. Kan gi en masse tilleggsinformasjon som tradisjonelle
            instrumenter (analoge) ikke kan gi.
          </p>
          <p>
            Feltbusser har blitt utviklet av mange selskap over tid. Mange
            selskap holder på sin teknologi og mener den ofte er best. Samtidig
            vil de ikke gi fra seg fordeler de har med etablerte systemer. I
            tillegg skal feltbusser dekke mange ulike oppgraver. Alt fra
            overordnet kommunikasjon som kan være industrielt Ethernet. Ned til
            busser som håndterer distribuerte IO, og helt ned på sensor nivå.
            Ulike busser kan dermed ha fordeler avhengig av bruksområdet.
          </p>

          <p class="q">
            <strong>Forklar hvordan kan vi finne x(t) med Matlab?</strong>
          </p>
          <p class="a">
            Vi finner x(t) ved å ta invers Laplace av uttrykket X(s). I Matlab
            oppgi X(s) og så utføre inversLaplace (ilaplace) på X(s): Får da
            x(t) utrykt i tidsplanet. Kan også utføre step()-funksjonen på X(s).
            Får da plottet x(t).
          </p>

          <div class="cols cols-2">
            <p class="q">
              <strong>Forklar og skisser hvordan sprangresponser </strong>på 1.
              og 2.ordens stabile systemernormalt vil være.
            </p>
            <p class="a">
              Sprangrespons på et 1.ordens system vil gi en pen innsvingning
              uten oversving. Et 2.ordens system kan gi ulik respons avhengig av
              om systemet har reelle eller komplekse poler. Reelle poler gir en
              pen innsvinging uten oversving,Komplekse poler vil gi
              oversving.(Se figur.)
            </p>
            <img
              class="w75 centered"
              src="https://i.xdh.no/412280934b33"
              alt="Sprangrespons på 2.ordens system"
            />
          </div>
        </div>
      </section>
    </div>
    <div class="wrapper" page="3">
      <section>
        <div class="row">
          <div class="cols cols-2">
            <p class="q">
              <strong>Oppgave A</strong>
              <strong
                >Du skal finne gode reguleringsparametere for et tilbakekoblet
                system.
              </strong>
              Reguleringssystemet skal regulere nivået i en tank med væske. Anta
              at du har funnet en modell som beskriver blokkene som inngår, og
              at du lar Matlab med margin()-funksjonen tegne opp
              frekvensresponsen til den åpne sløyfetransferfunksjonen A(s) som
              vist på figur 2.1. Du har her benyttet en P-regulator med
              forsterkning K= 6.
            </p>
            <img
              src="https://i.xdh.no/58ff06a83566"
              alt="reguleringssystem, margin"
            />
            <p class="a">
              Det er greiest å avlese hva margin()-funksjonen viser på toppen av
              figuren: Der ser vi at fasemargin er 84.1 graderog
              forsterkningsmargin er uendelig. Kryssfrekvensen ser vi er: 0.0568
              rad/s
            </p>
            <p class="a">
              Med disse marginene vil systemet være godt stabilt. Antagelig litt
              for mye stabilt, noe som går ut over hurtigheten og nøyaktigheten
              til systemet. Vi kan øke forsterkningen. F.eks kan vi prøve K lik
              8 eller 10.Får da et litt raskere og mer statisk nøyaktig
              regulering.Hvis K økes for mye blir stabilitetsmarginene «spist»
              opp. Dette system tåler egentlig at forsterkning kan økes mot
              uendelig, men da blir fasemargin tilnærmet 0. Nærmer seg
              ustabilitet, og et system som vil pendle svært mye.
            </p>
            <p class="q">
              <strong>Oppgave B</strong> P-regulatoren benyttet i oppgave A
              ønskes forbedret med en PI-regulering. Forslå verdier som bør
              testes på K og Ti. Begrunn valget. Hva blir transferfunksjonen til
              PI-regulatoren du foreslår?
            </p>
            <p class="a">
              Kan beregne Ti ut fra kryssfrekvensen: 1/Ti = Wc/5 -> Ti= 88. Et
              alternativ som er OK er å benytte: 1/Ti = Wc/10 -> Ti = 176.
              Forsterkningen K kan holdes på 6 ettersom fasemargin var 84
              grader. Det burde gi et brukbart stabilt system. Kan også ta dette
              ut av figuren av frekvensresponsen.
            </p>
          </div>

          <div class="cols cols-2 bt bb">
            <p class="q">
              <strong>Oppgave C</strong> Figur 2.2 viser sprangrespons på
              reguleringssystemet med en PI-regulator. Hvordan vil du vurdere
              systemets reguleringssegenskaper? Hva bør vi gjøre for å redusere
              oversvinget?
            </p>
            <img
              class="w75 centered"
              src="https://i.xdh.no/8e779e7efef1"
              alt="sprangrespons på reg. system"
            />
            <p class="a">
              Er en typisk innsvinging. Ser at stasjonær feil er null. (Bra).
              Systemets hurtighet ser vi på tidsaksen. Tar ca 40 sekunder før
              systemet roer seg ned. Oversvinget er på ca 30%, og det er i meste
              laget. Kan redusere oversvinget ved å redusereforsterkningen K.
              F.eks kan vi prøve å halvere K. Et annet tiltak kan være å øke
              integrasjonstiden Ti. Det beste er å gjøre små justeringer og så
              teste sprangresponsen for å se hva en oppnår.
            </p>
          </div>

          <p class="q">
            <strong>Oppgave D</strong> Prosessen gitt i oppgave 2A blir koblet
            opp, og testes med <strong>Ziegler-Nichols metode</strong>. Følgende
            verdier ble funnet: Kritisk forsterkning Kkrit= 14 og svingeperioden
            Tk= 105 sekunder. Hvilke verdier vil du anbefale å benytte for
            innstilling av en PID-regulator? Hvilke svakheter har
            Ziegler-Nichols metode.? Beskriv noen andre metoder som vi kan
            anvende for praktisk tuning som kan være bedre enn Ziegler-Nichols
            metode.
          </p>
          <p class="a">
            Dette kan vi beregne rett fra vedlagte tabell: K = 0.65. Kkrit =
            0.65 * 14 = 9.1. Ti =0.5*Tk = 0.5 *105 = 52.5. Td = 0.12. Tk = 0.12*
            105 = 12.6. Ziegler-Nichols metode tester hvor mye systemet tåler.
            Metoden krever at prosessen er oppkoblet og utsettes for store
            pådragsendringer. Systemet kjøres slik at et blir tilnærmet
            ustabilt. Stående svingninger. Det er ikke akseptabelt formange
            prosesser, og dermed kan ikke metoden benyttes. Tabellen forslår
            verdier som skal passe for alle prosesser.Etter en beregning/testing
            bør man finjustere reguleringsparameterne. Andre metoder som kan
            benyttes er: 1. Relè-metoden som setter prosessen i en kontrollert
            svingning. Meget god metode. 2. Teste sprangrespons på systemet, og
            ut fra responsen beregne parametere. Mye benyttet i enkle
            auto-tunings-algoritmer. 3. Andre forslag som er presentert er: Good
            Gain metoden til Finn Haugen.baserer seg på sprangrespons. 4. I
            tillegg har en rekke personer kommet med sine «egne» metoders om
            baserer seg på vurdering av sprangresponsen.
          </p>

          <p class="q">
            <strong>Oppgave E</strong>
            <strong>Anta at du har en 12 bit A/D-omformer </strong>som dekker
            området 0 til 5 Volt. Hvilken oppløsning har denne A/D-omformeren i
            mV. Hvilken nøyaktighet i mV kan vi forvente å ha? Begrunn svaret.
            Det påsettes en spenning på 2.75 Volt på A/D-omformeren. Hvilken
            bit-verdi bør A/D-omformeren gi ut? Hvorfor vil 12 bit A/D og
            D/A-omformere ofte være godt nok å benytte i industrielle styringer?
          </p>
          <p class="a">
            Oppløsningen er gitt av antall bit og er gitt av antall nivåer vi
            kan dele området i: Kan regnes ut på følgende vis:
            <span class="katex">
              Res_{mv} = \frac{Vref}{2^N} = \frac{5}{2^{12}}= \frac{5}{4096} =
              1.2mV</span
            >
          </p>
          <p class="a">
            <strong>Nøyaktighet</strong> er aldri bedre enn antall bit som
            benyttes for å holde den digitale verdien. Aldri bedre enn :
            <span class="katex">\pm</span>0.5 LSB. Vanligvis oppnår en ikke
            bedre enn <span class="katex">\pm</span>1 til 2 LSB. (LSB-minste
            signifikante bit)
          </p>
          <p class="a">
            <strong>Ex </strong>Vi beregner hva LSB utgjør. Med spenning fra 0-5
            volt blir max nøyaktighet:
            <span class="katex">\frac{5V}{4096}=1.2mV</span> (1 LSB) Kan angis
            som +/- 0.6mV. (Tilsvarer +/- 0.5 LSB)
          </p>
          <p class="a">
            2.75 Volt tilsvarer:
            <span class="katex">\frac{2.75}{5} \cdot 4096 = 2252</span> (Får
            2252.8. Må være et heltall. Runder mot null)
          </p>
          <p class="a">
            Nøyaktigheten til en 12 bit A/D, D/A omformer er såpass god at
            feilen som ligger rundt 0.02% er vesentlig lavere enn feil i
            sensor/målesystemet (som kan ligge på 0.5% eller høyere). et
            svakeste leddet er normalt måle-element/sensor, og da hjelper det
            ikke stort om en bruker A/D, D/A med flere bit. I systemer med store
            krav til nøyaktighet (som f.eks lyd) vil man måtte bruke 16 bit
            eller høyere.
          </p>
          <p class="q">
            <strong>Oppgave F</strong>
            <strong>Forklar hva det vil si å sample et analogt signal. </strong>
            Hvordan vil du bestemme hvor ofte et analogt signalet må samples?
          </p>
          <p class="a">
            Sampling betyr å kvantisere et signal i tid og verdi. Et analogt
            signal avleses med en fast takt (samplingsfrekvensen), og verdien
            omformes fra analog til digital i en A/D-omformer. Nøyaktig og
            oppløsning er avhengig av antall bit som benyttes for å holde den
            digitale verdien. Samplingsfrekvensen er avhengig av hvor hurtig
            signalet vi skal sample er. Shannon-Nyquist har utledet
            samplingsteoremet som sier at vi må sample minst dobbeltså hurtig
            som den høyeste frekvensen vi ønsker å gjenskape.
          </p>

          <div class="bt">
            <strong>diskret PI-regulator</strong>
            <span class="katex"
              >U_k = U_{k1} + k_p \cdot \dfrac{1+T_S}{T_I} \cdot avvik -k_p
              \cdot avvik_1</span
            >

            <ul class="inline2">
              <li>
                <span class="katex">U_k</span> - nåværende beregnet pådrag
              </li>
              <li>
                <span class="katex">U_{k1}</span> - pådraget ved forrige
                sampling
              </li>
              <li>
                <span class="katex">avvik</span> - Feilen. Setpunkt minus målt
                verdi akkurat nå
              </li>
              <li>
                <span class="katex">avvik_1</span> - avviket en sampling tilbake
                i tid
              </li>
              <li><span class="katex">K_i</span> - regulator forsterkning</li>
              <li><span class="katex">T_i</span> - integrasjonstien</li>
              <li>
                <span class="katex">T_s</span> - samplingstiden (hvor hurtig
                algoritmen kjøres)
              </li>
            </ul>
          </div>
        </div>
      </section>
      <section>
        <div class="row">
          <p class="q">
            <strong>Differensialligning</strong> under beskriver dynamikken for
            et generelt 1.ordens lavpassfilter.
            <span class="katex">\dot{X}(t) + \alpha X(t) =\beta U(t)</span>
            X(t)-er filtrert signal. U(t)-er signal som skal filtreres. alpha og
            beta er en faktor som avgjør hvor kraftig filteret skal filtrere.
            Bruk Eulers bakovermetode for diskretisering og finn den
            programmerbare differensligningen for lavpassfilteret. Forklar hva
            løsningen praktisk innebærer. Anta at β=1. Hva bør α være hvis en
            ønsker en kraftig filtrering av innkommende signal?
          </p>
          <p class="a">
            Ved å sette inn EBM som vi finner i vedlegget, og får når vi samler
            like ledd og Xk på venstre side i ligningen:
          </p>
          <p class="a">
            <span class="katex bigline"
              >\dot{X} + \alpha X = \beta U \rightarrow \dot{X} = \frac{X_k -
              X_{k-1}}{T} \rightarrow \frac{X_k - X_{k-1}}{T} + \alpha X_k =
              \beta U_k
            </span>
          </p>
          <p class="a">
            <span class="katex"
              >X_k - X_{k-1} + \alpha T X_k = \beta T U_k \rightarrow X_k (1 +
              \alpha T ) = X_{k-1} + \beta T U_k
            </span>
          </p>
          <p class="a">
            <span class="katex"
              >X_k = \dfrac{1}{1 + \alpha T} \cdot X_{k-1} + \dfrac{\beta T}{1 +
              \alpha T} \cdot U_k</span
            >
          </p>
          <p class="a">
            <span class="katex"
              >\beta = 1 \rightarrow X_k = \dfrac{1}{1 + \alpha T} \cdot X_{k-1}
              + \dfrac{T}{1 + \alpha T} \cdot U_k</span
            >
          </p>

          <p class="a">
            Ser at: (Antar også T er mye mindre enn 1)Når α er tilnærmet null
            betyr det kraftig filtrering av inngangssignalet Uk. Det betyr at Uk
            påvirker Xk lite (kraftig filtrering). Xk tilnærmet Xk-1
          </p>

          <p class="q">
            <strong
              >Uttrykket gitt under kan benyttes for numerisk integrasjon.
            </strong>
            Forklar leddene i uttrykket, og hvordan vi kan benytte dette for å
            integrere en gitt funksjon fra et startpunkt a til et sluttpunkt b.
          </p>
          <p class="q">
            <span class="katex"
              >y_k = y_{k-1} + \frac{T}{2}(f_k + f_{k-1})</span
            >
            Forklar en annen metode som vil kunne være mer nøyaktig enn denne.
            Beskriv kort forskjellen på dem.
          </p>
          <p class="a">
            Formelen er differensligningen som beskriver
            <strong>trapes integrasjon</strong>. yk er nytt areal som beregnes.
            yk-1 er arealet før neste «skive» som beregnes. T–samplingstiden
            (Tiden mellom 2 målinger). fk – funksjonsverdien i punktet k. fk-1 –
            funksjonsverdien i punktet k-1.
          </p>
          <p>
            Lager en løkke som beregner og summerer hver skive som funksjonen
            blir delt opp i. Vi må oppgi start og sluttpunktet a og b. Og hvor
            mange skiver/intervaller kurven skal deles i.
          </p>
          <p>
            Trapesmetoden har god nøyaktighet, men Simpsons metode som benytter
            parabelbuer og 3 funksjonerverdier ved hver beregning er mer
            nøyaktig. Litt mer krevende algoritme, men gir større nøyaktighet.
          </p>

          <div class="cols cols-2 bt">
            <h2>Codesys</h2>

            <h3>SR</h3>
            <h4>Hvordan funker blokken?</h4>
            <ul class="inside">
              <li>Når SET1 er høy, er Q1 høy.</li>
              <li>Når SET1 går fra høy til lav, forblir Q1 høy.</li>
              <li>Når RESET er høy, og SET1 er lav, blir Q1 lav.</li>
              <li>Når RESET går fra høy til lav, skjer ingenting.</li>
            </ul>
            <p>
              Man har også RS, som er helt lik som SR, men i stedet for at SET1
              er dominant (som i SR), er det RESET som er dominant
            </p>
            <h4>Eksempel (se figur CS1.1 og CS1.2)</h4>
            <p>START, STOPP og UTGANG er BOOL.</p>
            <ul class="inside">
              <li>
                Når man trykker på knappen til START, blir den TRUE. Dette fører
                til at UTGANG blir TRUE.
              </li>
              <li>
                Når man trykker på knappen til STOPP, blir den TRUE. Dette fører
                til at UTGANG blir FALSE, men bare når START er FALSE!
              </li>
            </ul>
            <figure>
              <img
                src="https://i.xdh.no/4052ae0bec62"
                alt="SR blokk - logikk"
              />
              <figcaption>Figur CS1.1</figcaption>
            </figure>
            <figure class="w8 centered">
              <img src="https://i.xdh.no/06f656dd37d6" alt="SR blokk - HMI" />
              <figcaption>
                Figur CS1.2 - HMI for flere av eksempelene
              </figcaption>
            </figure>

            <h3>F_TRIG/R_TRIG</h3>
            <h4>Hvordan funker blokken?</h4>
            <ul class="inside">
              <li>
                R_TRIG: Når CLK får inn et signal som går fra lav til høy, blir
                Q høy, men forblir ikke høy
              </li>
              <li>
                F_TRIG: Når CLK får inn et signal som går fra høy til lav, blir
                Q høy, men forblir ikke høy
              </li>
              <li>
                Q sender konstant lav. Så i det CLK sender høy, blir Q høy, også
                blir den umiddelbart lav igjen. Dette gjør at utgangen til en
                trigger funker bra sammen med tellere.
              </li>
            </ul>
            <figure>
              <img src="https://i.xdh.no/a222cf271f9b" alt="R_TRIG - logikk" />
              <figcaption>Figur CS1.3</figcaption>
            </figure>

            <h3>CTU/CDU (teller)</h3>
            <h4>Hvordan funker blokken?</h4>
            <p>
              CTU og CDU funker på samme måte, men CTU teller oppover, og CDU
              teller nedover. Teksten under er for CTU
            </p>
            <ul class="inside">
              <li>CU inngangen funker som en R_TRIG sin inngang</li>
              <li>CV er en integer som telles oppover</li>
              <li>PV er en integer som er "maks" verdi til telleren</li>
              <li>
                Når CU blir høy, blir CV plusset med 1. Altså om CV er 1, så
                blir den 2.
              </li>
              <li>Når CV er lavere enn PV, er UTGANG lav.</li>
              <li>Når CV er lik eller høyere enn PV, er UTGANG høy.</li>
              <li>
                Når RESET er høy, er CV 0, som gjør at UTGANG er lav. CV forblir
                0 så lenge RESET er høy.
              </li>
            </ul>
            <figure>
              <img
                src="https://i.xdh.no/15423f1828ce"
                alt="CTU - CV under PV"
              />
              <figcaption>Figur CS1.4.1, når CV er under PV</figcaption>
              <img src="https://i.xdh.no/fefcf47c925e" alt="CTU - CP lik PV" />
              <figcaption>
                Figur CS1.4.2, når CV er lik eller høyere PV
              </figcaption>
              <img src="https://i.xdh.no/02b7befdf96c" alt="CTU - RESET" />
              <figcaption>Figur CS1.4.3, når RESET er høy</figcaption>
            </figure>

            <h3>TOF (timer)</h3>
            <h4>Hvordan funker blokken?</h4>
            <ul class="inside">
              <li>
                IN ved rising edge: tilbakestiller timeren, setter høy utgang
              </li>
              <li>IN ved falling edge: starter timeren, utgang forblir høy</li>
              <li>Når timeren er ferdig (ET lik PT), blir utgang lav.</li>
              <li>ET er utløpt tid.</li>
            </ul>
            <figure>
              <img src="https://i.xdh.no/133016101d6d" alt="TOF - Logikk" />
              <figcaption>Figur CS1.5</figcaption>
            </figure>

            <h3>TON (timer)</h3>
            <h4>Hvordan funker blokken?</h4>
            <ul class="inside">
              <li>IN ved rising edge: starter timeren, utgang er lav</li>
              <li>
                IN ved falling edge: tilbakestiller timeren, utgang forblir lav
              </li>
              <li>Når timeren er ferdig (ET lik PT), blir utgang høy.</li>
            </ul>

            <h3>TP (timer)</h3>
            <h4>Hvordan funker blokken?</h4>
            <ul class="inside">
              <li>IN ved rising edge: starter timeren, utgang er høy</li>
              <li>
                IN ved falling edge: ingenting skjer, alt fortsetter som før,
                utgang forblir høy
              </li>
              <li>Når timeren er ferdig (ET lik PT), blir utgang lav.</li>
            </ul>
          </div>
        </div>
      </section>
      <section>
        <div class="row">
          <div class="cols cols-2">
            <p class="q">
              <strong>Blandetanken har 2 nivåsensorer. </strong> Nivåsensorene
              gir et logisk høyt (1) signal når nivået ”dekker” sensoren. Når
              nivået er lavere enn sensoren gir den logisk 0. To pumper benyttes
              for å pumpe væske A og B til tanken. I tillegg finnes det en motor
              som styrer en omrører, og en alarmutgang til en alarmlampe. Det
              benyttes også en startbryter og en stoppbryter som begge er
              normalt åpne (logisk 0) når de ikke er berørt, men som gir logisk
              1 når de holdes inne. De går automatisk til logisk 0 når de
              slippes. Du skal lage et PLS-program med Ladder og/eller
              Funksjonsblokker som utfører følgende: Når startbryteren trykkes,
              og deretter slippes, skal pumpe 1 starte med å pumpe væske inn,
              samtidig skal omrøreren starte. Når nivået passerer (høyere) enn
              nivåsensoren Niv_norm skal pumpe 1 stoppe. Deretter skal pumpe 2
              starte og pumpe væske B inn i tanken i 3 minutter. Nivåsensorer
              Niv_hoy skal fungere som sikkerhet mot at tanken overfylles. Hvis
              nivået i tanken passerer Niv_hoy skal begge pumpene stoppe, og et
              alarmsignal Alarm_hoy skal aktiveres. Hvis stoppbryteren trykkes
              skal anlegget stoppes (pumpe 1, pumpe 2, omrører og alarm skal
              slås av.)
            </p>
            <img
              src="https://i.xdh.no/fd4d7e49346f"
              alt="codesys oppg - eksamen 2016"
            />
          </div>

          <div class="bt"></div>
          <h3>Eksamen 2017</h3>
          <p class="q">
            <strong
              >Begrepene styring og regulering benyttes ofte med ulik
              mening.</strong
            >
            Forklar hva som menes med styring. Tegn en figur/skisse som viser
            prinsippet. Beskriv to eksempler på systemer som styres. Forklar hva
            som menes med regulering. Tegn en figur/skisse som viser prinsippet.
            Beskriv to eksempler på systemer som reguleres.
          </p>
          <p class="a">
            <strong>Bør få med at styring normalt</strong> ikke benytter
            tilbakekobling. Påvirker et system. Men kan også observere.
            Trafikklys. Heis. Pakkelinje……
            <strong>Regulering bruker tilbakekobling </strong>for å oppnå ønsket
            resultat. Regulering av nivået i et kar, Cruisekontroll for å holde
            hastigheten til en bil, Autopilot for å holde kurs. Holde
            temperaturen i et rom….
          </p>

          <p class="q">
            <strong>Segway er et batteridrevet kjøretøy </strong>på 2 hjul som
            balanserer og kjører en person. Den regulerer en prosess som virker
            som en invertert pendel. Vis med et blokkskjema hvordan du antar
            reguleringssystemet i Segway’en må virke. Forklar hva
            blokkene/enhetene som inngår utfører. Hvordan vil du karakterisere
            tidskonstantene/tregheten i denne prosessen, og hvordan vil det
            påvirke samplingstiden som bør benyttes i reguleringsalgoritmen? Hva
            vil skje hvis en velger for lav samplingsfrekvens?
          </p>
          <p class="a">
            <strong>Blokkskjema </strong>bør vise hvor komponentene inngår og
            tilbakekoblingen. Regulator – pådragsorgan- prosess- måle-element-
            summasjonspunktet Tradisjonelt tilbakekoblet system.
            <strong>Referansen</strong> blir satt som en vinkel som skal holde
            personen i en loddrett stilling (slik at han/hun ikke faller).
            Benytter en vinkelmåler (kan være gyro etc) som indikerer om
            personen er loddrett eller ikke. <strong>Avviket</strong> sendes til
            en PID-regulator som genererer pådrag til motorer som kjører hjulene
            for å balansere personen. Når personen bikker framover vil
            regulatoren kjøre Segway’en framover for å motvirke et fall, og
            dermed beveger den seg i riktig retning. Tilsvarende bakover. I
            tillegg til å holde en person loddrett, og dermed kjøre rett
            fram/eventuelt tilbake kan Seqwayen også styres mot høyre/venstre av
            personen som står på den. Det hele fungerer som et system som
            balanserer en invertert pendel. Motorene (hjulene) kjøres slik at
            håndtaket og personen ikke tipper framover eller bakover. Dette er
            en forholdsvis rask prosess med små tidskonstanter (motorstyring),
            og en må sample så hurtig at systemet blir stabilt. Seqway benytter
            100Hz for å oppnå dette. Dermed blir regulering mer nøyaktig, stabil
            og behagelig. Hadde det blitt benyttet en lav samplingsfrekvens
            f.eks 1Hz ville ganske sikkert systemet blitt ustabilt. Personen
            ville ha falt framover/bakover før reg.systemet hadde klart å
            balansere det loddrett.
          </p>
          <p class="q">
            <strong>Hvorfor er standard Ethernet </strong>problematisk å benytte
            som en feltbuss? Nyere biler benytter CAN-bus og ODB-2 (On Board
            Diagnostics system). Forklar/beskriv hva CAN-bus og ODB-2 har som
            oppgave i en bil.
          </p>
          <p class="a">
            <strong>Standard Ethernet</strong> er gir ikke sanntids responser.
            Kan benyttes på overordnet nivå til HMI, og operatørstasjoner. Hvis
            man forbedrer Ethernet slik som ProfiNet og Ethernet/IP. EtherCat,
            Så har de sanntidsegensaker som gjør at disse kan benyttes ut mot
            felt.
          </p>
          <p class="a">
            <strong>CAN bus</strong> (Controller Area Network) is a vehicle bus
            standard designed to allow microcontrollers and devices to
            communicate with each other within a vehicle without a host
            computer. CAN bus is a message-based protocol , designed
            specifically for automotive applications but now also used in other
            areas such as aerospace, maritime, industrial automation and medical
            equipment. CAN bus blir benyttet i ODB-II diagnose system for biler.
            Ble introdusert i biler i 1996. Er nå obligatorisk i alle bensin og
            diesel biler. Gjør at alle ECU’er i bilen kan snakke sammen. Kan
            følgelig overvåke sensorer, aktuatorer, motorstyring ++.
            Diagnose-systemet gjør at feil i motor, styriger m.m kan rapporteres
            og feilsøkes fra en datamaskin som kjører et diagnose-service
            program.
          </p>

          <p class="q">
            <strong>Reduser blokkdiagrammet</strong> og vis at
            transferfunksjonen mellom inngang og utgang blir.
            <span class="katex"
              >\frac{Y(s)}{R(s)} = M(s) = \frac{K}{50s^2 + s + K}</span
            >
          </p>
          <p class="a">
            Må først sette opp
            <strong>åpen sløyfetransferfunksjonen</strong> A(S) lik :
            K/(s*(1+50s)) Regner så ut <strong>følgeforholdet</strong> M(s) lik:
            A(s)/(1 + A(s)), og da ser vi at svaret blir lik det som er oppgitt.
            q.e.d
          </p>

          <p class="q">
            <strong>De fleste regulatorer har auto-tunings funksjoner. </strong>
            Forklar hva slags metoder/prinsipper som normalt anvendes ved
            auto-tuning?
          </p>
          <p class="a">
            1. Bør her kunne forklare kort <strong>rele-metoden </strong> som
            baserer seg på at systemet påtvinges av/på signal i påadraget, og så
            observeres utgangen. Systemet blir satt i en kontrollert selvsving.
            Og Kritisk forsterkning og svingetid avleses automatisk. Dermed kan
            man lage en enkel beregning for P, PI eller PID parametere. 2. En
            enklere metode er å <strong>påsette sprang</strong> (på/av) og
            avlese responstider og forsterkning. Ut fra loggede data kan P, PI,
            PID parameter anslås. Kalles ofte:
            <strong>sprangrespons metoden</strong>.
          </p>
        </div>
      </section>
    </div>
    <div class="wrapper" page="4">
      <section>
        <div class="row">
          <p class="q">
            Et lydsignal samples, og resultatet er vist på figur 3.1 Signalet
            blir testet med en FFT-rutine, og resultatet er vist i figur 3.2.
            Benytt figurene, og forklar/beskriv hva slags signal/signaler som er
            samplet. Benytt figur 3.2, og sett opp det matematiske uttrykket som
            beskriver lydsignalet.
          </p>
          <div class="clear">
            <img
              class="w5 fl"
              src="https://i.xdh.no/7fec1be4606d"
              alt="Et samplet lydsignal"
            />
            <img
              class="w5 fl"
              src="https://i.xdh.no/8ca806034f42"
              alt="FFT-analyse av signalet"
            />
          </div>
          <p class="a">
            Figur 3.1 viser et periodisk signal. Så det ser ut som det er ulike
            sinus-signaler (lyd-frekvenser) som summeres. Figur 3.2 viser dette
            klarere. Vi ser tydelig at vi har sinus-frekvenser ved 200, 400, 600
            og 800 Hz. Amplituden er gitt av høyden. Det betyr at det er summen
            av 4 sinus-komponenter. Signalet kan skrives som: x(t) = sin
            (2*pi*200*t) + 2sin (2*pi*400*t) + 3sin (2*pi*600*t)+ 4sin
            (2*pi*800*t)
          </p>
          <p class="q tl">
            <strong>Kode for en diskret PI-regulator: </strong>
            <span class="katex"
              >u_k = u_{k1} + k_p \cdot (1.0 + \dfrac{T_s}{Ti}) \cdot avvik -
              k_p \cdot avvik_1</span
            >
          </p>
          <p class="q">
            Forklar hva den utfører og alle variablene som inngår i uttrykket.
            Hva skjer hvis Ti settes svært stor? Hva vil skje hvis vi setter Ts
            svært stor? Hvorfor må man begrense uk før verdien benyttes mot en
            prosess?
          </p>
          <p class="a">
            <strong>Uttrykket er en typisk numerisk beregning</strong> som kan
            gjøres av en datamaskin. Framkommer ved å digitalisere den analoge
            løsningen for en PI-regulator. ( Ikke krav at det vises). Ledd som
            inngår: Uk – nytt beregnet pådrag, Uk1 – Pådraget 1 sampling tilbake
            i tid, Kp – regulatorforsterkningen, Ts – samplingstiden, Ti -
            Integrasjonstiden, Avvik – nåværende avvik, Avvik1 – avviket 1
            sampling tilbake i tid
          </p>
          <p>
            Hvis Ti settes stor vil I-virkningen bli borte. Vil virke som en
            P-regulator. Stor Ts betyr at vi sampler langsomt. Kan gi
            svingninger, og til slutt et ustabilt system. Må begrense pådraget
            Uk til max/min verdi som pådragsorganet kan benytte. Hvis ikke vil
            systemet fungere dårlig (store oversving), eller at D/A-omformeren
            ikke takler verdien i det hele tatt. (Anti-wind up)
          </p>

          <h4>Oppgave 3E</h4>
          <p class="q">
            Et analogt høypassfilter er gitt ved av transferfunksjon
            <span class="katex"> \dfrac{Y(s)}{X(s)} = \dfrac{s}{1+0.5s} </span>
          </p>
          <p class="q">
            Y(s) - Filtrert signal (utgang). X(s) - Signal som skal filtreres
            (inngang Du skal lage en diskret ekvivalent. Benytt Eulers metode
            med samplingstid T , og f inn den programmerbare differensligningen
            som beskriver filteret. Filteret testes med et enhetssprang på
            inngangen. Bergen hva responsen blir for k = 0, 1 og 2
          </p>
          <p class="a">
            <strong>Omformer fra Laplace til tidsplan</strong>. Setter så inn
            Eulers ekvivalent og regner ut. Det er ikke angitt hva
            samplingstiden T skal være. Jeg benytter T=0.01 for å regne helt ut.
          </p>
          <p class="a">
            <span class="katex"> \dfrac{Y(s)}{X(s)} = \dfrac{s}{1+0.5s} </span>
            <span class="katex"
              >\Rightarrow (1+0.5s) \cdot Y(s) = s \cdot X(s)</span
            >
            <span class="katex"
              >s-plan: Y(s)+0.5s \cdot Y(s) = s \cdot X(s)</span
            >
          </p>
          <p class="a">
            <span class="katex">t-plan: y+0.5 \dot{y} = \dot{x}</span>
          </p>
          <div class="i2">
            <div class="w7 fl">
              <span> Erstatter med numerisk ekvivalent </span>
            </div>
            <div class="w3 fr">
              <table>
                <thead>
                  <tr>
                    <th class="katex">k</th>
                    <th class="katex">y_k</th>
                    <th class="katex">y_{k-1}</th>
                    <th class="katex">x_k</th>
                    <th class="katex">x_{k-1}</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>0</td>
                    <td>1.96</td>
                    <td>0</td>
                    <td>1</td>
                    <td>0</td>
                  </tr>
                  <tr>
                    <td>1</td>
                    <td>1.92</td>
                    <td>1.96</td>
                    <td>1</td>
                    <td>1</td>
                  </tr>
                  <tr>
                    <td>2</td>
                    <td>1.88</td>
                    <td>1.92</td>
                    <td>1</td>
                    <td>1</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <p class="a i2 tl">
            <span class="katex"
              >\Rightarrow y_k + 0.5 \cdot \dfrac{y_k - y_{k-1}}{T} = \dfrac{x_k
              - x_{k-1}}{T} \cdot T</span
            >
            <span class="katex"
              >\Rightarrow Ty_k + 0.5y_k - 0.5y_{k-1} = x_k - x_{k-1}</span
            >
            <span class="katex"
              >\Rightarrow y_k(T+0.5) = 0.5y_{k-1} + y_k - y_{k-1}</span
            >
            <span class="katex"
              >\Rightarrow \underline{\underline{y_k = \dfrac{0.5}{T+0.5} \cdot
              y_{k-1} + \dfrac{1}{T+0.5}(y_k - y_{k-1})}}</span
            >
          </p>

          <div class="bt">
            <p>
              <strong>Feltbusser</strong>Hvorfor IKKE benytte feltbusser? Mer
              komplekst utstyr, Mange standarder, Driftere må ha gode
              IT-kunnskaper, Revisjon av programvare kan gi
              integrasjonsproblemer, Nytt og gammelt utstyr snakker ikke alltid
              sammen, Kan «hackes»/forstyrres slik at datamistes eller blir
              feil.
            </p>
            <p>
              Det finnes en rekke feltbusser. Noen busser er mer rettet mot
              sensor påbitnivå. (ASI, CAN, IO-link). Noen dekker kommunikasjon
              mellom PLS’er og instrumenter. (Profibus-DP, Interbus, Modbus,
              DeviceNet, EtherCat.) Noen er rettet mot prosessautomatisering.
              (Profibus-PA, Fieldbus H1) Noen er rettet mot overordnede
              styringssystemer. (ProfiNet, Ethernet/IP, Fieldbus HSE), samt
              ulike ethernet-typer beregnet for sanntidsoperasjoner.
            </p>
          </div>

          <p>
            <strong>Vanlige feltbusser</strong> ASI: Effektiv når det er enkle
            digitale signaler mot sensor. IO-Link : Kommunikasjons-Interface.
            Punkt til punkt tilkobling mellom sensorer,aktuatorer og PLS’er.
            CAN: Control area Network. Mye brukt i bilindustrien. OBD2 diagnose
            system for biler. (Seriebus). Profibus-DP: Dekker kommunikasjon
            mellom Master (eks. PC/PLS) og distribuerte I/O-enheter som da blir
            slaver. Max 12Mbit/s. Max 32 enheter per segment. Benytter RS 485.
            Profibus-PA: Benyttes for kommunikasjon motprosessinstrumenter.
            31.25 kBit/sPA nettet kobles mot en DP-Master via en DP til PA
            omkobler. Fieldbus Foundation: Konkurrent til Profibus-PA.
            Kommunikasjon mot prosessinstrumenter. 31.25 kBit/s.
            Funksjonsmoduler (software) i I/O enhetene. Industrielt Ethernet:
            Benytter Ethernet med ”programvare/hardware” som sørger for
            sanntidsegenskaper. Oppdateringstider mindre enn 10
            0mikrosekunder.Eks. Profinet, Ethernet/IP, EtherCAT, ModbusTCP
          </p>

          <p>
            <strong>Måleelement og kalibrering.</strong> Må
            kalibreremåleelementet slik at vi får mest mulig riktig informasjon
            om det fysiske signalet. Må kunne stole på at signalet som angir
            resultatet/målingen er riktig. F.eks må alle bensinpumper kalibreres
            jevnlig. (Justervesenet.) Veldig viktig ved kjøp og salg av varer.
            Viktig for skattelegging. Fiskalemålinger, avgifter. Et måleelement
            kalibreres slik at nedre fysiske verdi gir en utgang lik f.eks 4mA,
            og høyeste fysiske verdi gir 20mA. Benytte da Zero (angir nullpunkt)
            og Span (angir område, maks verdi).
          </p>

          <p>
            <strong>Digitalisering og sampling. </strong>Analoge signaler må
            digitaliseres (kvantiseres i tid og verdi) før de kan benyttes av en
            datamaskin. Kvantisering i tid kalles sampling/punktprøving.
          </p>

          <p>
            <strong>Begrensing av pådrag</strong> Pådragsorganer har
            metningsgrenser. Når disse grensene nås er det uheldig at
            regulatoren fortsetter å integrere opp pådraget uk. ådraget kan i en
            algoritme bli uendelig stort eller lite. Slike verdier vil ikke ha
            noen mening å benytte. NB!!En ventil kan åpnes 100%, det er
            meningsløst å si at en ventil skal åpnes 200%. Løsningen er å ikke
            la pådraget bli større enn Umax og ikke bli mindre enn Umin. Dette
            gjøres enkelt med noen if-setninger. Hvis en slik begrensing (anti
            wind-up) ikke legges inn vil det gå uforholdsmessig lang tid før
            pådraget bringes tilbake til normalt område igjen etter endringer.
            Resultatet vil bli et langvarig oversving.
          </p>
        </div>
      </section>
      <section>
        <div class="row">
          <h4>Oppgave 4</h4>
          <p class="q">
            <strong>A.</strong> <strong>Timere</strong> er ofte benyttet i PLS -
            programmer. Forklar hvordan de 3 vanligste PLS - Timerne virker, og
            gi gjerne eksempel på oppgaver de kan anvendes
          </p>

          <div class="clear bb">
            <p class="a w33 fl tl sr">
              <img
                class="w66 centered"
                src="https://i.xdh.no/7d75ae8171da"
                alt="TON - timer"
              />
              <strong>TON</strong> – forsinket innkobling. Når noe ikke skal gå
              på før etter en viss tid. F.eks. Roobma (Robert) i et bygg som går
              på etter en time etter at sistemann gikk ut døren.
            </p>
            <p class="a w33 fl tl sr">
              <img
                class="w66 centered"
                src="https://i.xdh.no/0bcafd93c357"
                alt="TOF - timer"
              />
              <strong>TOF</strong> - Forsinket utkobling. Når noe skal holde seg
              på en viss tid etter at innsignalet går av. F.eks. lyset skal stå
              på noen sekunder et at er at lysbryteren er slått av.
            </p>
            <p class="a w33 fl tl">
              <img
                class="w66 centered"
                src="https://i.xdh.no/c4d0074d1a13"
                alt="TP - timer"
              />
              TP - Pulstimer. En timer som er på en spesifisert tid. Den slår
              seg av etter gitt tid. F.eks. Døråpner. Når man trykker på
              bryteren, så åpner døren seg, og holder seg åpen i x sekunder før
              den lukker seg igjen.
            </p>
          </div>

          <div class="bb">
            <h3>Greit å vite</h3>
            <p>
              <strong>Bode-diagram:</strong> Gm = forsterkningsmargin =
              <span class="katex">\Delta K</span>, Pm = Fasemargin =
              <span class="katex">\psi</span>, K = forsterkning
            </p>

            <p>Faseforskyvning = <span class="katex">\phi</span></p>
            <p>
              <strong>T </strong>kalles Systemets <strong>tidskonstant</strong>,
              hurtighet/treghet. Store tidskonstanter gjør systemet tregt.
            </p>
            <p>
              <strong>Tidsforsinkelse</strong> betyr at det går en viss tid før
              utgangen reagerer på inngangen. Det er da et delay
              (<strong>dødtid</strong>) i systemet. Det medfører at vi får
              målinger forsinket i forhold til pådraget. Vi observerer følgelig
              ikke momentant virkningen av et pådrag. Dette gjør at et
              reguleringssystem må tunes mer forsiktig (må sikre marginer). Kan
              gi treg regulering og utfordringer i forhold til stabilitet.
            </p>

            <p>
              <strong>Holdelementet</strong> holder verdien i samplingstiden T
              sek. Hold-elementer skaper dødtid. Ofte T/2?
            </p>

            <p>
              <strong>Forsterkningsmarginen</strong> er uendelig, fordi fasen
              ikke passer -180 grader.
            </p>

            <div class="clear">
              <div class="fl w4 br">
                <p>
                  <strong>Ved sprangrespons</strong> må man benytte M(s).
                  <span class="katex">M(s) = \dfrac{a(s)}{1+a(s)}</span>. Maks
                  oversving burde være på 1.20 (20%)
                </p>
                <p>
                  <strong>Beregning av dB-verdier</strong>
                  <span class="katex">K(db) = 20log_{10}(K)</span>. Legg merke
                  til at <span class="katex"> X \cdot 2 \rightarrow 6 dB</span>,
                  <span class="i2 katex"> X \cdot 0.5 \rightarrow -6 dB</span>,
                  <span class="i2 katex"> X \cdot 10 \rightarrow 20 dB</span>,
                  <span class="i2 katex"> X \cdot 0.1 \rightarrow -20 dB</span>
                </p>

                <ul class="inside">
                  <li>
                    Man kan gjøre et <strong>ustabil prosess</strong> stabil ved
                    å benytte <strong>tilbakekobling</strong>.
                  </li>
                  <li>
                    <strong>Lavpassfilter</strong> fjerner høye signlar (lar kun
                    lave komme gjennom)
                  </li>
                  <li>
                    <strong>Høypassfilter</strong> fjerner lave signlar (lar kun
                    høye komme gjennom)
                  </li>
                  <li>
                    <strong>Hold-element</strong> Utgangen holdes på samme verdi
                    i hele samplingstiden inntil en ny verdi kommer fra D/A
                    eller A/D-omformeren.
                  </li>
                </ul>
              </div>
              <figure class="w6 fr">
                <img src="https://i.xdh.no/341dc1113fbe" alt="" />
                <figcaption>
                  <p>
                    Lavpassfilter: Ser av frekvensresponsen at lave frekvenser
                    slipper gjennom, og at høyere frekvenser dempes.
                  </p>
                  <p>
                    Cut - off frekvensen
                    <span class="katex">\phi = \dfrac{1}{T_F}</span>
                  </p>
                </figcaption>
              </figure>
            </div>
          </div>

          <p><strong>Nullpunkter, poler og tidskonstanter</strong></p>
          <div class="cols cols-2">
            <img
              class=""
              src="https://i.xdh.no/f6fd91ff9f09"
              alt="eks. nullpunkter og poler"
            />
            <p>
              Systemet har 1 nullpunkt. Tidskonstant 2 sek. Systemet har 2 poler
              (tidskonstanter 10 sek og 50 sek), samt 1 integrator. Systemet har
              en dødtid/tidsforsinkelse på 20 sekunder NB!: Nullpunkter påvirker
              dynamikken og responsen til systemet. Polene påvirker dynamikken,
              men også om systemet skal være stabilt eller ikke. Dødtid gjør
              systemer trege og vanskeligere å regulere.
            </p>
            <p>
              <strong>Tidsrespons </strong>Undersøker hvordan et system takler
              endringer/påvirkninger. Gir oss informasjon om; Hurtighet,
              forsterkning, stabilitet, reaksjonsmønster.
            </p>
          </div>

          <p>
            <strong>Frekvensrespons </strong> Undersøker hvordan et system
            takler sinussignaler. Gir oss informasjon om; Båndbredde,
            stabilitet, filteregenskaper. Ved å la
            <span class="katex">\omega</span> variere fra null til uendelig vil
            vi kunne finne ut hvordan et system overfører sinussignaler. Vi vil
            sitte igjen med informasjon som vi kaller frekvensresponsen til
            systemet. Frekvensresponsen til et system (lineært og stabilt) kan
            finnes direkte fra transferfunksjonen H(s). Det kan vises at vi
            finner frekvensresponsen ved å erstatte s med
            <span class="katex">j\omega</span> i en transferfunksjon. I Matlab
            finner man frekvensresponsen enkelt ved å skrive inn
            transferfunksjonen. Legger inn teller og nevner hver for seg, og
            benytter deretter tf-funksjonen som lager selve transferfunksjonen.
            Når den er inne benyttes BODE()-funksjonen for å beregne og plotte
            frekvensresponsen.
          </p>

          <p>
            <strong>Arbeidspunkt:</strong>. Angir det normale
            virkeområde(setpunkt/referanse) for en reg.sløyfe. Vi må bestemme
            oss for hvor hva referansen normalt er innstilt på. Det har
            betydning for tuning av PID-parametrene. Hvis prosessen vi skal
            regulere er lineærvil reg.parametrene vi har funnet ved et
            arbeidspunkt kunne benyttes når vi endrer arbeidspunkt. Er prosessen
            ulineærvil optimale reg.parametre variere med arbeidspunktet som
            benyttes. Vi bør derfor tune systemet på nytt når arbeidspunktet
            endres.
          </p>

          <p>
            Man kan gjøre et ustabil prosess stabil ved å benytte
            tilbakekobling.
          </p>

          <p>
            <strong>RFID</strong> Radiofrekvensidentifikasjon (engelsk: radio
            frequency identification, RFID) er en metode for å lagre og hente
            data ved hjelp av små enheter kalt RFID-brikker. En RFID-brikke er
            en liten brikke som kan festes til eller bygges inn i et produkt, et
            dyr eller en person.
          </p>
        </div>
      </section>
      <section>
        <div class="row">
          <p>
            <strong>OPC</strong> Open Platform Communications. OPCer en
            interoperabilitetsstandardfor sikker og pålitelig datautvekslingi
            industriell automatisering/nettverk. Den er plattform uavhengig, og
            sikrer sømløs strøm av informasjonmellom enheter fra flere
            leverandører. Siste utgave er: OPC-UA (Unified Architecture). Gjør
            det mulig å lese/skrive PLS-tagger i sanntid. Er basert på en
            klient/server modell.
          </p>
          <p>
            <strong>OPC Data Access </strong>(OPC Classic) OPC DA sender over
            realtimeverdier fra PLS’er til HMI/SCADA system. Altså tilgang til
            realtime prosessdata. Brukes til: Lesing av nåverdier(
            Måleinstrumenter, Styresignaler, Beregnede verdier). Og skriving av
            nåverdier (Settpunkt i regulator, Startkriterier i
            logikk-programmer).
            <strong>OPC Unified Architecture (UA)</strong> Motivasjon: Samler
            alle eksisterendespesifikasjoner i enhelhetligmodell. Støtter
            kompliserte/rike informasjonsmodeller. Fokus på sikkerhet i
            kommunikasjon mellomklient og server. Er tilgjengelig på andre
            plattformer enn Win32: Linux, Android, VxWorks, iOS, Android
          </p>

          <p>
            <strong>Rektangel-integrasjon følger Eulers metode. </strong> Vi
            deler området under en funksjon/kurve opp i rektangler. Bredden på
            en skive er samplingstiden T (i matematikken ofte benyttet delta x).
            Det blir da lett å beregne arealet av hver rektangel. Lager et
            program som beregner arealet av hvert rektangel /Skive og som
            summerer fra startpunkt til endepunkt, Får dermed beregnet det
            totale (tilnærmede) areal under kurven. På en måten kan vi enkelt
            integrere bestemte funksjoner.
          </p>

          <p>
            <strong>Simpsons metode</strong> benytter parabelbuer istedenfor
            rektangler. En slik bue kan bede tilpasses en kurve. Dermed vil også
            arealberegningen bli mer nøyaktig
          </p>

          <p>
            <strong>Programbare ligninger fra analoge uttrykk.</strong>
            Ligningene fremkommer ved å diskretisere analoge uttrykk. Vi må
            benytte diskrete løsninger (numeriske) for derivasjon og
            integrasjon. Mange metoder å velge blant. Eulers metoder er enkle.
            For integrasjon finnes, rektangel og trapesintegrasjon. Simpsons
            metode og andre. For derivasjon kan Eulers forovermetode benyttes,
            men også mer avanserte fler-skritts metoder som Runge-Kutta. Ved å
            erstatte analoge uttrykk med sine diskrete ekvivalenter fremkommer
            en differensligning som kan programmeres.
          </p>

          <p>
            <strong>Eulers midtpunktsmetodeer </strong>en forbedring av Eulers
            forovermetode. Den går ut på at man beregner den deriverte i punktet
            (t0+ T/2). Og benytter den som et estimat av den deriverte i punktet
            (t0, x0) En enda bedre metode går ut på å beregne den deriverte i
            flere punkter. <strong>Runge-Kutta </strong>4-skritts metode
            beregner funksjonsverdien fk i 4 delintervaller mellomt0og t1. Det
            er en tyngre metode å utføre, men gir vesentlig bedre resultat enn
            enkle metoder som Eulers metoder.
          </p>

          <h3>Matlab</h3>
          <p><strong>Runge-Kutta:</strong> ode45()</p>
          <p><strong>Audioread(): Leser flere lyd-formater</strong></p>
          <p><strong>Audiowrite(): Skriver flere lyd-formater</strong></p>
          <p>
            <strong
              >sound(y, Fs): Spiller av samplingene. Ofte 2 kanaler med lyd.
              (Stereo) Fs angir samplingsfrekvensen som benyttes.</strong
            >
          </p>
          <p>
            <strong>Pause():</strong> Angir at systemet tar en pause på n
            sekunder. Ved lyd: spiller ingenting.
          </p>
          <p>
            <strong>Plot():</strong> plotter valgte feks. samplinger eller
            annet. Visualisering.
          </p>
          <p>
            <strong>Flipud(): </strong> Snur matrisa bak fram. Ved lyd vil den
            bli spilt inn bakfrem
          </p>
          <h3>Eksamen 2014</h3>
          <p class="q">
            Anta at du skal utføre en PID-regulering, og at algoritmen under
            benyttes
            <span class="katex"
              >uk = u_{k-1} + K(1 + \dfrac{T}{T_i})e_k - Ke_{k-1} -
              \dfrac{KT_d}{T}(y_k - 2y_{k-1} + y_{k-2})</span
            >
          </p>
          <p>
            <strong>Parametere i algoritmer:</strong> uk – beregnet pådrag ved
            et gitt samplingspunkt, uk-1 – pådraget en sampling tilbake (gamle
            pådraget), ek – nåværende avvikk, ek-1 – avviket en sampling
            tilbake, ek-2 – avviket to sampling tilbake, yk - målt verdi, rk -
            referanse. Evt. A, B og C er konstanter.
          </p>

          <p>
            <strong>Numeriske løsninger</strong>
            <strong>Integrasjonsmetoder</strong>:Eulers metoder: Enkle men ikke
            så nøyaktige. Trapesmetoden_ Mer nøyaktig og enkel å implementere.
            Simpsons metode: Meget nøyaktig, men tyngre å implementere.
            <strong>Differensialapproksimasjoner</strong>: Eulers metoder, grove
            mhp nøyaktighet, 1-skritts metoder, rask. Runge-Kutta metoden:
            Flerskritts metoder. Mer nøyaktige. Trenger desto flere beregninger.
            Mye benyttet i simulering.
          </p>
          <p>
            Viktig: Det er viktig at tidsskrittet T man velger ved numeriske
            løsninger (simuleringer) er liten i forhold til systemets dynamikk.
            En regel er at man bør velge en skrittlengde T som er minst 10
            ganger mindre enn systemets minste tidskonstant. En annen måte å si
            dette på er at en bør velge en samplingsfrekvens som er minst 10
            ganger raskere en den øverste frekvens som skal gjengis tilnærmet
            uendret. Velges tids-skrittet T for stor i en numerisk
            løsningvilhele simuleringen kunne bli ustabil. Resultatet blir da
            helt ubrukelig.
          </p>

          <p>
            For å kunne analysere et system/prosess i t-plan trenger vi en
            <strong>matematisk modell</strong> som beskriver hvordan systemet
            oppfører seg. Vi kan benytte forskjellige metoderfor å utføre en
            slik analyse/simulering. 1. Simulere løsninger ved å
            <strong>diskretiser</strong> edifferensialligningene som beskriver
            systemet. Får da programmerbare løsninger (numeriske løsninger). 2.
            2. Vi kan benytte Laplacetransformen. Transformerer
            modell-ligningene over i s-plan. Blir da lettere å jobbe med
            ”koblede”systemer. Hvis systemet/prosessen er beskrevet med lineære
            diff.ligninger kan vi etablere koblinger mellom inngang og utgang
            som kalles en transferfunksjon.
          </p>

          <div class="bt cols cols-2">
            <p class="q">
              <strong>2015 4B</strong>: en liten industriprosess er følgende
              koblet opp mot en PLS.
            </p>
            <ul class="q">
              <li>
                En startbryter og en stoppbryter som begge er normalt åpne
                logisk 0 når de ikke er berørt, men som gir logisk 1 når de
                holdes inne. De går automatisk til logisk 0 når de slippes,
                (touch - brytere)
              </li>
              <li>To motorer som kan slås av og på</li>
            </ul>
            <p class="q">
              Du skal lage et PLS - program med ladder og/eller funksjonsblokker
              som gjør følgende: Når startbryteren trykkes (startsignal) skal
              motor 1 kjøres i 2 minutter før den stoppes. Når motor 1 stopper
              skal motor 2 kjøres i 4 minutter før den stopper. Hvis
              stoppbryteren trykkes (stoppsignal) skal begge motorer stoppe
              umiddelbart. Skriv/tegn programmet som løser oppgaven. Forklar
              kort hvordan ditt program løser dette. Benytt funksjonsblokker som
              du mener er nødvendige
            </p>

            <p class="a">
              Kan løses på flere måter. Ettersom start - og stoppbryterne er
              touch - brytere må vi sikre at verdiene holdes med en RS - vippe.
              Vil benytte en TOF - timer (forsinket utkobling ) blokk som settes
              til 2 minutter, samt en RS - blokk og en AND - blokk som vist
              under
            </p>

            <figure class="a">
              <img src="https://i.xdh.no/b5b05c7490c8" alt="" />
              <figcaption>
                Figuren viser kun hvordan motor 1 kan styres. Må gjøre noe
                tilsvarende for motor 2
              </figcaption>
            </figure>
            <p class="a">
              Når startbryteren trykkes og slippes starter TOF, og holder
              utgangen høy i 2 minutter. (Forsinket utkobling). Så lenge
              stoppbryteren ikke trykkes løper tiden, og motor en vil gå i 2
              minutter ettersom både TOF og RS - vippa har høy utgang. AND -
              blokka gir nå på - signal til motoren. Hvis stopp trykkes vil RS -
              vippa resettes og AND - blokka vil gi lavt utgangssignal . Motoren
              stoppes. Det samme vil skje når timertiden på 2 minutte r utløper.
              AND - blokka vil gå lav og stoppe motoren.
            </p>
          </div>
        </div>
      </section>
    </div>
    <link rel="stylesheet" href="css/katex.min.css" />
    <link
      href="https://fonts.googleapis.com/css?family=PT+Mono|PT+Serif+Caption:400,400i&amp;subset=latin-ext"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=PT+Serif:400,400i,700,700i&amp;subset=latin-ext"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=PT+Mono&amp;subset=latin-ext"
      rel="stylesheet"
    />
    <script src="js/app.js"></script>
  </body>
</html>
